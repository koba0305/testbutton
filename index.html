<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Banner Hover Demo</title>
  <style>
    :root { --banner-ratio: 2.35; }


    body {
      margin: 0;
      min-height: 100svh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #111;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", sans-serif;
    }

    .banner {
      width:100%;
      aspect-ratio: var(--banner-ratio) / 1;
      position: relative;
      overflow: hidden;
      background: #48bfff;
      transition: background-color .25s ease;
      outline: none;
      cursor: pointer;
    }

    .badge {
      position: absolute;
      right: -3%;
      bottom: -5%;
      max-height: 100%;
      max-width: 80%;
      height: auto;
      width: auto;
      display: block;
      transition: transform .25s ease, opacity .25s ease;
      will-change: transform;
      user-select: none;
      pointer-events: none;
    }

  
    .banner.is-hovered .badge {
      transform: translateY(-8%);
    }

    .banner.is-hovered {
      background: #ffe55c;
    }


    .banner__label {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      justify-items: start;
      padding-left: 7%;
      color: #003;
      font-weight: 7000;
      font-size: 8%;
      user-select: none;
      pointer-events: none;

    }
    .label-img{
        height:75%;
        width:auto;
    }

  </style>
</head>
<body>


  <div class="banner" id="banner-on" tabindex="0" aria-label="バナーデモ">
    <span class="banner__label">
    <img  class="label-img" src="images/logo.svg" alt="logo">
    </span>
    <img class="badge"src="images/1.gif" alt="装飾アイコン" />
  </div>


    <div class="banner" id="banner-off" tabindex="0" aria-label="バナーデモ">
        <span class="banner__label">
            <img class="label-img" src="images/logo.svg" alt="logo">
        </span>
        <img class="badge"src="images/2.png" alt="装飾アイコン" />
    </div>


  <script>

// const now = new Date();
// const d = now.getDate();
// const CAMPAIGN_ACTIVE = d <= 10;
  const CAMPAIGN_ACTIVE = true; //テスト

const on  = document.getElementById('banner-on');
const off = document.getElementById('banner-off');


on.hidden  = !CAMPAIGN_ACTIVE;
off.hidden =  CAMPAIGN_ACTIVE;


if (CAMPAIGN_ACTIVE) {
  const badge  = banner.querySelector('.badge'); // ← 子の画像（idは不要）
  const IMG_DEFAULT = 'images/1.gif';
  const IMG_HOVER   = 'images/2.png';
  function setHover(onHover) {
    on.classList.toggle('is-hovered', onHover);
    badge.src = onHover ? IMG_HOVER : IMG_DEFAULT;
  }
  on.addEventListener('mouseenter', () => setHover(true));
  on.addEventListener('mouseleave', () => setHover(false));
  on.addEventListener('focus',      () => setHover(true));
  on.addEventListener('blur',       () => setHover(false));
}

on.addEventListener('mouseenter', () => setHover(true));
on.addEventListener('mouseleave', () => setHover(false));
on.addEventListener('focus',      () => setHover(true));







    (function () {
      const banner = document.getElementById('banner-on');
      const badge  = document.getElementById('badge');

      const IMG_DEFAULT = 'images/1.gif';
      const IMG_HOVER   = 'images/2.png';

      function setHover(on) {
        banner.classList.toggle('is-hovered', on);
        const next = on ? IMG_HOVER : IMG_DEFAULT;
        if (badge.getAttribute('src') !== next) {
          badge.setAttribute('src', next);
        }
      }

      on.addEventListener('mouseenter', () => setHover(true));
      on.addEventListener('mouseleave', () => setHover(false));

      on.addEventListener('focus', () => setHover(true));
      let touchTimer = null;
      on.addEventListener('touchstart', () => {
        setHover(true);
        clearTimeout(touchTimer);
        touchTimer = setTimeout(() => setHover(false), 300);
      }, { passive: true });
    })();

  </script>
</body>
</html>